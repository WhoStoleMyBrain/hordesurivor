import 'ids.dart';
import 'tags.dart';

class EnemyDef {
  const EnemyDef({
    required this.id,
    required this.name,
    required this.description,
    required this.faction,
    required this.role,
    required this.xpReward,
    required this.goldCurrencyReward,
    required this.goldShopXpReward,
    this.spriteId,
    this.metaUnlockId,
    this.maxHp = 15,
    this.moveSpeed = 28,
    this.attackCooldown = 1.6,
    this.attackRange = 160,
    this.projectileSpeed = 140,
    this.projectileDamage = 6,
    this.projectileSpread = 0.3,
    this.spawnCooldown = 3.5,
    this.spawnCount = 1,
    this.spawnRadius = 48,
    this.spawnEnemyId,
    this.spawnRewardMultiplier = 0,
    this.weight = 1,
  });

  final EnemyId id;
  final String name;
  final String description;
  final Faction faction;
  final EnemyRole role;
  final int xpReward;
  final int goldCurrencyReward;
  final int goldShopXpReward;
  final String? spriteId;
  final MetaUnlockId? metaUnlockId;
  final double maxHp;
  final double moveSpeed;
  final double attackCooldown;
  final double attackRange;
  final double projectileSpeed;
  final double projectileDamage;
  final double projectileSpread;
  final double spawnCooldown;
  final int spawnCount;
  final double spawnRadius;
  final EnemyId? spawnEnemyId;
  final double spawnRewardMultiplier;
  final int weight;
}

const List<EnemyDef> enemyDefs = [
  EnemyDef(
    id: EnemyId.imp,
    name: 'Imp',
    description: 'Fast chaser with low health.',
    faction: Faction.demons,
    role: EnemyRole.chaser,
    xpReward: 5,
    goldCurrencyReward: 1,
    goldShopXpReward: 1,
    spriteId: 'enemy_imp',
    maxHp: 12,
    moveSpeed: 36,
  ),
  EnemyDef(
    id: EnemyId.spitter,
    name: 'Spitter',
    description: 'Ranged attacker with imperfect aim.',
    faction: Faction.demons,
    role: EnemyRole.ranged,
    xpReward: 6,
    goldCurrencyReward: 2,
    goldShopXpReward: 1,
    spriteId: 'enemy_spitter',
    maxHp: 14,
    moveSpeed: 24,
    attackCooldown: 1.4,
    attackRange: 190,
    projectileSpeed: 150,
    projectileDamage: 6,
    projectileSpread: 0.35,
  ),
  EnemyDef(
    id: EnemyId.portalKeeper,
    name: 'Portal Keeper',
    description: 'Summons imps until destroyed.',
    faction: Faction.demons,
    role: EnemyRole.spawner,
    xpReward: 10,
    goldCurrencyReward: 2,
    goldShopXpReward: 1,
    spriteId: 'enemy_portal_keeper',
    maxHp: 45,
    moveSpeed: 18,
    spawnCooldown: 3.2,
    spawnCount: 2,
    spawnRadius: 52,
    spawnEnemyId: EnemyId.imp,
  ),
  EnemyDef(
    id: EnemyId.hexer,
    name: 'Hexer',
    description: 'Projects weakening curses and auras.',
    faction: Faction.demons,
    role: EnemyRole.disruptor,
    xpReward: 8,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_hexer',
    metaUnlockId: MetaUnlockId.infernalDisruptorDossier,
    maxHp: 16,
    moveSpeed: 22,
    attackCooldown: 2.4,
    attackRange: 190,
    projectileSpeed: 130,
    projectileDamage: 5,
    projectileSpread: 0.45,
  ),
  EnemyDef(
    id: EnemyId.brimstoneBrander,
    name: 'Brimstone Brander',
    description: 'Controls space with burning ground.',
    faction: Faction.demons,
    role: EnemyRole.zoner,
    xpReward: 8,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_brimstone_brander',
    metaUnlockId: MetaUnlockId.infernalDisruptorDossier,
    maxHp: 20,
    moveSpeed: 18,
    attackCooldown: 2.8,
    attackRange: 180,
    projectileSpeed: 90,
    projectileDamage: 5,
    projectileSpread: 0.4,
  ),
  EnemyDef(
    id: EnemyId.hellknight,
    name: 'Hellknight',
    description: 'Telegraphed dash with slam AOE.',
    faction: Faction.demons,
    role: EnemyRole.elite,
    xpReward: 16,
    goldCurrencyReward: 6,
    goldShopXpReward: 1,
    spriteId: 'enemy_hellknight',
    metaUnlockId: MetaUnlockId.infernalAnnihilatorDossier,
    maxHp: 60,
    moveSpeed: 30,
    attackCooldown: 3.2,
    attackRange: 180,
  ),
  EnemyDef(
    id: EnemyId.cinderling,
    name: 'Cinderling',
    description: 'Explodes on a timer or on death.',
    faction: Faction.demons,
    role: EnemyRole.exploder,
    xpReward: 7,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_cinderling',
    metaUnlockId: MetaUnlockId.infernalAnnihilatorDossier,
    maxHp: 10,
    moveSpeed: 34,
    attackCooldown: 2.6,
    attackRange: 120,
    projectileSpeed: 150,
    projectileDamage: 8,
    projectileSpread: 0.2,
  ),
  EnemyDef(
    id: EnemyId.zealot,
    name: 'Zealot',
    description: 'Steady chaser with higher durability.',
    faction: Faction.angels,
    role: EnemyRole.chaser,
    xpReward: 6,
    goldCurrencyReward: 1,
    goldShopXpReward: 1,
    spriteId: 'enemy_zealot',
    maxHp: 18,
    moveSpeed: 26,
  ),
  EnemyDef(
    id: EnemyId.cherubArcher,
    name: 'Cherub Archer',
    description: 'Telegraphed volley pattern.',
    faction: Faction.angels,
    role: EnemyRole.ranged,
    xpReward: 7,
    goldCurrencyReward: 2,
    goldShopXpReward: 1,
    spriteId: 'enemy_cherub_archer',
    maxHp: 16,
    moveSpeed: 26,
    attackCooldown: 1.8,
    attackRange: 210,
    projectileSpeed: 170,
    projectileDamage: 7,
    projectileSpread: 0.25,
  ),
  EnemyDef(
    id: EnemyId.seraphMedic,
    name: 'Seraph Medic',
    description: 'Heals nearby allies with a beam.',
    faction: Faction.angels,
    role: EnemyRole.supportHealer,
    xpReward: 9,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_seraph_medic',
    metaUnlockId: MetaUnlockId.celestialSupportAccords,
    maxHp: 20,
    moveSpeed: 22,
    attackCooldown: 3.2,
    attackRange: 180,
  ),
  EnemyDef(
    id: EnemyId.herald,
    name: 'Herald',
    description: 'Buff aura for nearby allies.',
    faction: Faction.angels,
    role: EnemyRole.supportBuffer,
    xpReward: 9,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_herald',
    metaUnlockId: MetaUnlockId.celestialSupportAccords,
    maxHp: 18,
    moveSpeed: 22,
    attackCooldown: 3.0,
    attackRange: 170,
  ),
  EnemyDef(
    id: EnemyId.warden,
    name: 'Warden',
    description: 'Stationary hazard zones that deny space.',
    faction: Faction.angels,
    role: EnemyRole.zoner,
    xpReward: 8,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_warden',
    metaUnlockId: MetaUnlockId.celestialWardEdict,
    maxHp: 24,
    moveSpeed: 12,
    attackCooldown: 3.2,
    attackRange: 200,
    projectileSpeed: 80,
    projectileDamage: 5,
    projectileSpread: 0.35,
  ),
  EnemyDef(
    id: EnemyId.sentinel,
    name: 'Sentinel',
    description: 'Patrols in arcs with minimal tracking.',
    faction: Faction.angels,
    role: EnemyRole.pattern,
    xpReward: 8,
    goldCurrencyReward: 3,
    goldShopXpReward: 1,
    spriteId: 'enemy_sentinel',
    metaUnlockId: MetaUnlockId.celestialVanguardWarrant,
    maxHp: 18,
    moveSpeed: 28,
    attackCooldown: 2.4,
    attackRange: 180,
    projectileSpeed: 150,
    projectileDamage: 6,
    projectileSpread: 0.3,
  ),
  EnemyDef(
    id: EnemyId.archonLancer,
    name: 'Archon Lancer',
    description: 'Telegraphed charge leaves a wind trail.',
    faction: Faction.angels,
    role: EnemyRole.elite,
    xpReward: 16,
    goldCurrencyReward: 6,
    goldShopXpReward: 1,
    spriteId: 'enemy_archon_lancer',
    metaUnlockId: MetaUnlockId.celestialVanguardWarrant,
    maxHp: 55,
    moveSpeed: 32,
    attackCooldown: 2.8,
    attackRange: 190,
  ),
];

final Map<EnemyId, EnemyDef> enemyDefsById = Map.unmodifiable({
  for (final def in enemyDefs) def.id: def,
});
